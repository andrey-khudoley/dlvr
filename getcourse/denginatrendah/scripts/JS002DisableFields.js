/**
 * Проверяет, должен ли скрипт быть выполнен.
 * Читает user ID из локального хранилища и сравнивает его с массивом отключенных ID.
 * @returns {boolean} Возвращает `true`, если скрипт должен быть выполнен, иначе `false`.
 */
const akhJS002ShouldExecuteScript = () => {
  const disabledUserIds = [291392837] // ID пользователей, для которых скрипт не активен
  const userId = window.accountUserId
  return !disabledUserIds.includes(userId)
}

/**
 * Отключает ручное редактирование для списка указанных допполей.
 * Использует jQuery для установки свойства `disabled` на элементах формы.
 */
const akhJS002DisableFields = () => {
  if (!akhJS002ShouldExecuteScript()) return

  const fieldIds = [
    // Заказы
    '1233250', '1110557', '1083247', '1146169', '1320498',
    '1012345', '1005757', '1489860', '10055833', '1489849',
    '1489850', '1489851', '1489857', '1104063', '10087983',
    '10087981', '10087982', '10087980', '10087979', '10087978',
    '1828608', '1322915', '1322916', '1322914', '1322913',
    '1322912', '805382', '10097754', '10102016', '1628674',
    '1635812', '10097712', '1489678', '1628675', '1628705',

    // Пользователи
    '10055769', '10055768', '10055767', '10055766', '10055765',
    '10055764', '1885127', '1885126', '1764582', '775830',
    '775829', '298471', '964665', '1303124', '1832593',
    '1764632', '10001798', '1084910', '10055763', '10102000',
    '10037448', '10037514', '10101727', '10101726', '944963',
    '10037447', '10037446'
  ]

  fieldIds.forEach(id => {
    $(`#field-input-${id}`).prop('disabled', true)
  })
}

document.addEventListener('DOMContentLoaded', akhJS002DisableFields)
